{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.combine = combine;\nexports.getStore = getStore;\nexports[\"default\"] = void 0;\n\nvar _redux = require(\"redux\");\n\nvar _registry = _interopRequireDefault(require(\"./registry\"));\n\nfunction combine(reducers) {\n  var initialState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  Object.keys(initialState).forEach(function (item) {\n    reducers[item] = function () {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState[item];\n      return state;\n    };\n  });\n  return (0, _redux.combineReducers)(reducers);\n}\n\nfunction getStore(reducers) {\n  var initialState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (Object.keys(reducers).length > 0) {\n    return (0, _redux.createStore)(combine(reducers, initialState));\n  }\n\n  return (0, _redux.createStore)(function () {\n    return initialState;\n  });\n}\n\nvar store = getStore(_registry[\"default\"].getReducers());\n\n_registry[\"default\"].setChangeListener(function (reducers) {\n  store.replaceReducer(combine(reducers));\n});\n\nvar _default = store;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}