{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getConnectedStore = getConnectedStore;\nexports[\"default\"] = exports.connectReducer = exports.history = void 0;\n\nvar _reduxReducerRegistry = _interopRequireWildcard(require(\"@onaio/redux-reducer-registry\"));\n\nvar _connectedReactRouter = require(\"connected-react-router\");\n\nvar _history = require(\"history\");\n\nvar _redux = require(\"redux\");\n\nvar _reduxThunk = _interopRequireDefault(require(\"redux-thunk\"));\n\nvar history = (0, _history.createBrowserHistory)();\nexports.history = history;\n\nfunction getConnectedStore(reducers) {\n  var initialState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  Object.keys(reducers).forEach(function (reducerName) {\n    _reduxReducerRegistry[\"default\"].register(reducerName, reducers[reducerName]);\n  });\n  var reducer = (0, _reduxReducerRegistry.combine)(_reduxReducerRegistry[\"default\"].getReducers(), initialState);\n  var composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || _redux.compose;\n  return (0, _redux.createStore)(reducer, initialState, composeEnhancers((0, _redux.applyMiddleware)(_reduxThunk[\"default\"], (0, _connectedReactRouter.routerMiddleware)(history))));\n}\n\nvar connectReducer = (0, _connectedReactRouter.connectRouter)(history);\nexports.connectReducer = connectReducer;\nvar defaultReducers = {\n  router: connectReducer\n};\nvar store = getConnectedStore(defaultReducers);\n\n_reduxReducerRegistry[\"default\"].setChangeListener(function (reducers) {\n  store.replaceReducer((0, _reduxReducerRegistry.combine)(reducers));\n});\n\nvar _default = store;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}