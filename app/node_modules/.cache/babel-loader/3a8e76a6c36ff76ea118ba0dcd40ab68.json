{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sortMap = exports.serverSideSortedColumns = exports.parsePatient = exports.columns = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _utils = require(\"../../../helpers/utils\");\n\nvar _utils2 = require(\"../../PatientsList/utils\");\n\nvar _constants = require(\"../../../constants\");\n\nvar _antd = require(\"antd\");\n\nvar _reactRouterDom = require(\"react-router-dom\");\n\nvar _sortMap;\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2[\"default\"])(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar Text = _antd.Typography.Text;\nvar id = 'id';\nvar name = 'name';\nvar dob = 'dob';\nvar gender = 'gender';\nvar deceased = 'deceased';\nvar active = 'active';\n\nvar parsePatient = function parsePatient(patient) {\n  var _getPatientName, _ref;\n\n  var birthDate = patient.birthDate,\n      deceasedBoolean = patient.deceasedBoolean;\n  return _ref = {}, (0, _defineProperty2[\"default\"])(_ref, id, patient.id), (0, _defineProperty2[\"default\"])(_ref, name, (_getPatientName = (0, _utils2.getPatientName)(patient)) !== null && _getPatientName !== void 0 ? _getPatientName : id), (0, _defineProperty2[\"default\"])(_ref, dob, birthDate), (0, _defineProperty2[\"default\"])(_ref, gender, patient.gender), (0, _defineProperty2[\"default\"])(_ref, deceased, deceasedBoolean), (0, _defineProperty2[\"default\"])(_ref, active, patient.active), _ref;\n};\n\nexports.parsePatient = parsePatient;\nvar dobSorterFn = (0, _utils.sorterFn)(dob, true);\n\nvar columns = function columns(t) {\n  return [{\n    title: t('Name'),\n    dataIndex: name,\n    key: name,\n    render: function render(name, record) {\n      return _react[\"default\"].createElement(_react[\"default\"].Fragment, null, _react[\"default\"].createElement(\"span\", null, name, \" \", record.deceased ? _react[\"default\"].createElement(_antd.Tag, {\n        color: \"red\"\n      }, \"Deceased\") : null));\n    }\n  }, {\n    title: t('Date Of Birth'),\n    dataIndex: dob,\n    key: dob,\n    sorter: dobSorterFn,\n    render: function render(value) {\n      return t('{{val, datetime}}', {\n        val: new Date(value)\n      });\n    }\n  }, {\n    title: t('Status'),\n    dataIndex: active,\n    key: active,\n    render: function render(value) {\n      return _react[\"default\"].createElement(Text, null, value === true ? t('Active') : t('Inactive'));\n    }\n  }, {\n    title: t('Gender'),\n    dataIndex: gender,\n    key: gender\n  }, {\n    title: t('Actions'),\n    width: '20%',\n    render: function render(record) {\n      return _react[\"default\"].createElement(\"span\", {\n        className: \"d-flex justify-content-start align-items-center\"\n      }, _react[\"default\"].createElement(_reactRouterDom.Link, {\n        to: \"\".concat(_constants.LIST_PATIENTS_URL, \"/\").concat(record.id),\n        className: \"m-0 p-1\"\n      }, t('View')));\n    }\n  }];\n};\n\nexports.columns = columns;\nvar sortMap = (_sortMap = {}, (0, _defineProperty2[\"default\"])(_sortMap, id, 'identifier'), (0, _defineProperty2[\"default\"])(_sortMap, name, 'name'), (0, _defineProperty2[\"default\"])(_sortMap, dob, 'birthdate'), _sortMap);\nexports.sortMap = sortMap;\n\nvar serverSideSortedColumns = function serverSideSortedColumns(t) {\n  return columns(t).map(function (column) {\n    var newColumn = _objectSpread({}, column);\n\n    if (typeof column.sorter === 'function') {\n      newColumn.sorter = true;\n    }\n\n    return newColumn;\n  });\n};\n\nexports.serverSideSortedColumns = serverSideSortedColumns;","map":null,"metadata":{},"sourceType":"script"}