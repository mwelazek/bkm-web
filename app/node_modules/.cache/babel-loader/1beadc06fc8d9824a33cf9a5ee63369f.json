{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.ProviderLinks = exports.AuthorizationGrantType = void 0;\nexports.useOAuthLogin = useOAuthLogin;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _constants = require(\"../helpers/constants\");\n\nvar _oauth = require(\"../helpers/oauth\");\n\nvar AuthorizationGrantType = function (AuthorizationGrantType) {\n  AuthorizationGrantType[\"IMPLICIT\"] = \"IMPLICIT\";\n  AuthorizationGrantType[\"AUTHORIZATION_CODE\"] = \"AUTHORIZATION_CODE\";\n  return AuthorizationGrantType;\n}({});\n\nexports.AuthorizationGrantType = AuthorizationGrantType;\n\nfunction useOAuthLogin(options) {\n  var rawProviders = options.providers,\n      authorizationGrantType = options.authorizationGrantType;\n  var authorizationUris = {};\n  Object.entries(rawProviders).map(function (item) {\n    var thisProvider = (0, _oauth.getProviderFromOptions)(item[1]);\n    var authorizationUri = authorizationGrantType === AuthorizationGrantType.IMPLICIT ? thisProvider.token.getUri() : authorizationGrantType === AuthorizationGrantType.AUTHORIZATION_CODE ? thisProvider.code.getUri() : '#';\n    authorizationUris[item[0]] = authorizationUri;\n    return authorizationUris;\n  });\n  return authorizationUris;\n}\n\nvar ProviderLinks = function ProviderLinks(props) {\n  var providers = props.providers,\n      authorizationGrantType = props.authorizationGrantType,\n      OAuthLoginPromptMessage = props.OAuthLoginPromptMessage;\n  var authorizationUris = useOAuthLogin({\n    authorizationGrantType: authorizationGrantType,\n    providers: providers\n  });\n  return _react[\"default\"].createElement(\"div\", {\n    className: \"gatekeeper-login\"\n  }, _react[\"default\"].createElement(\"p\", {\n    className: \"gatekeeper-p\"\n  }, OAuthLoginPromptMessage), Object.entries(authorizationUris).map(function (item) {\n    return _react[\"default\"].createElement(\"p\", {\n      className: \"gatekeeper-p item\",\n      key: item[0]\n    }, _react[\"default\"].createElement(\"a\", {\n      className: \"gatekeeper-btn\",\n      href: item[1]\n    }, item[0]));\n  }));\n};\n\nexports.ProviderLinks = ProviderLinks;\n\nvar OauthLogin = function OauthLogin(props) {\n  var providers = props.providers,\n      ProviderLinksComponent = props.ProviderLinksComponent,\n      authorizationGrantType = props.authorizationGrantType,\n      noProvidersMessage = props.noProvidersMessage,\n      OAuthLoginPromptMessage = props.OAuthLoginPromptMessage;\n  return ProviderLinksComponent && providers ? _react[\"default\"].createElement(ProviderLinksComponent, {\n    providers: providers,\n    authorizationGrantType: authorizationGrantType,\n    OAuthLoginPromptMessage: OAuthLoginPromptMessage\n  }) : _react[\"default\"].createElement(\"div\", {\n    className: \"gatekeeper-login\"\n  }, _react[\"default\"].createElement(\"p\", {\n    className: \"gatekeeper-p\"\n  }, noProvidersMessage));\n};\n\nOauthLogin.defaultProps = {\n  OAuthLoginPromptMessage: _constants.OAUTH_LOGIN_PROMPT,\n  ProviderLinksComponent: ProviderLinks,\n  authorizationGrantType: AuthorizationGrantType.IMPLICIT,\n  noProvidersMessage: _constants.NO_PROVIDERS\n};\nvar _default = OauthLogin;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}