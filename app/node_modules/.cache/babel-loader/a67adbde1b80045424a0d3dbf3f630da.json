{"ast":null,"code":"import _objectSpread from\"/home/teboho/opensrp-fhir-web-source/fhir-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{Resource404,PrivateRoute as PrivateComponent,PublicComponent}from'@opensrp/react-utils';import{AuthorizationGrantType,ConnectedOauthCallback,getOpenSRPUserInfo,useOAuthLogin}from'@onaio/gatekeeper';import ConnectedPrivateRoute from'@onaio/connected-private-route';import{Switch,Route,Redirect}from'react-router';import{Spin}from'antd';import{CustomLogout}from'../components/Logout';import{BACKEND_ACTIVE,DISABLE_LOGIN_PROTECTION}from'../configs/env';import{REACT_CALLBACK_PATH,URL_BACKEND_CALLBACK,BACKEND_CALLBACK_PATH,URL_REACT_LOGIN,URL_LOGOUT,URL_LOCATION_UNIT,URL_HOME,URL_TEAMS_EDIT,URL_TEAMS_ADD,URL_TEAMS,URL_LOCATION_UNIT_ADD,URL_LOCATION_UNIT_EDIT,URL_USER_GROUPS,URL_USER_ROLES,URL_FHIR_CARE_TEAM,URL_TEAM_ASSIGNMENT}from'../constants';import{providers}from'../configs/settings';import CustomConnectedAPICallBack from'../components/page/CustomCallback';import{PatientsList,PatientDetails,LIST_PATIENTS_URL}from'@opensrp/fhir-client';import{UserCredentials,UserGroupsList,UserRolesList,URL_USER,URL_USER_EDIT,ROUTE_PARAM_USER_ID,ROUTE_PARAM_USERNAME,ROUTE_PARAM_USER_GROUP_ID,URL_USER_GROUP_EDIT,URL_USER_GROUP_CREATE,URL_USER_CREATE,URL_USER_CREDENTIALS,CreateEditUserGroup}from'@opensrp/user-management';import{CareTeamList,ROUTE_PARAM_CARE_TEAM_ID,CreateEditCareTeam,URL_CREATE_CARE_TEAM,URL_EDIT_CARE_TEAM}from'@opensrp/fhir-care-team';import{CreateEditUser as FHIRConnectedCreateEditUser,UserList as FhirUserList}from'@opensrp/fhir-user-management';import{Home}from'../containers/pages/Home/Home';import{HealthCareList,HealthCareAddEdit,LIST_HEALTHCARE_URL,ADD_EDIT_HEALTHCARE_SERVICE_URL}from'@opensrp/fhir-healthcare-service';import{OrganizationList as FhirTeamsList,AddEditOrganization as FhirTeamsAddEdit,AffiliationList as FhirTeamAssignment}from'@opensrp/fhir-team-management';import{LocationUnitList as FHIRLocationUnitList,NewEditLocationUnit as FHIRNewEditLocationUnit}from'@opensrp/fhir-location-management';import{teamAffiliationProps,editLocationProps,newLocationUnitProps,locationUnitProps,usersListProps,teamManagementProps,patientProps,fhirCreateEditUserProps,commmodityProps}from'./utils';import'./App.css';import{QuestionnaireList,QuestionnaireResponseList,QUEST_VIEW_URL,QUEST_RESPONSE_VIEW_URL,qrListRouteKey,QUEST_FORM_VIEW_URL}from'@opensrp/fhir-views';import{QuestRForm,resourceTypeParam,resourceIdParam}from'@opensrp/fhir-quest-form';import{CommodityList,ADD_EDIT_COMMODITY_URL,CommodityAddEdit,GroupList,LIST_COMMODITY_URL,LIST_GROUP_URL}from'@opensrp/fhir-group-management';import{useTranslation}from'../mls';import'@opensrp/user-management/dist/index.css';import{APP_LOGIN_URL}from'../configs/dispatchConfig';/** Util function that renders Oauth2 callback components\n *\n * @param routeProps - Component route props object\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var LoadingComponent=function LoadingComponent(){return/*#__PURE__*/_jsx(Spin,{size:\"large\",className:\"custom-spinner\"});};export var SuccessfulLoginComponent=function SuccessfulLoginComponent(){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});};export var CallbackComponent=function CallbackComponent(routeProps){debugger;var props=_objectSpread({SuccessfulLoginComponent:SuccessfulLoginComponent,LoadingComponent:LoadingComponent,providers:providers,oAuthUserInfoGetter:getOpenSRPUserInfo},routeProps);if(BACKEND_ACTIVE){debugger;return/*#__PURE__*/_jsx(CustomConnectedAPICallBack,_objectSpread({},routeProps));}debugger;return/*#__PURE__*/_jsx(ConnectedOauthCallback,_objectSpread({},props));};var FHIRApps=function FHIRApps(){var APP_CALLBACK_URL=BACKEND_ACTIVE?URL_BACKEND_CALLBACK:URL_REACT_LOGIN;var IMPLICIT=AuthorizationGrantType.IMPLICIT,AUTHORIZATION_CODE=AuthorizationGrantType.AUTHORIZATION_CODE;var AuthGrantType=BACKEND_ACTIVE?AUTHORIZATION_CODE:IMPLICIT;var APP_CALLBACK_PATH=BACKEND_ACTIVE?BACKEND_CALLBACK_PATH:REACT_CALLBACK_PATH;var _useOAuthLogin=useOAuthLogin({providers:providers,authorizationGrantType:AuthGrantType}),OpenSRP=_useOAuthLogin.OpenSRP;useTranslation();return/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(ConnectedPrivateRoute,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:URL_HOME,component:Home}),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,path:\"\".concat(QUEST_FORM_VIEW_URL,\"/:\").concat(resourceIdParam,\"/:\").concat(resourceTypeParam),permissions:[],component:QuestRForm}),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,path:\"\".concat(QUEST_RESPONSE_VIEW_URL,\"/:\").concat(qrListRouteKey),permissions:[],component:QuestionnaireResponseList}),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,path:QUEST_VIEW_URL,permissions:[],component:QuestionnaireList}),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:URL_USER_GROUPS,permissions:[],component:UserGroupsList}),/*#__PURE__*/_jsx(PrivateComponent,_objectSpread(_objectSpread({redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:LIST_PATIENTS_URL},patientProps),{},{permissions:[],component:PatientsList})),/*#__PURE__*/_jsx(PrivateComponent,_objectSpread(_objectSpread({redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:\"\".concat(LIST_PATIENTS_URL,\"/:\",'id')},patientProps),{},{permissions:[],component:PatientDetails})),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:URL_USER_ROLES,permissions:[],component:UserRolesList}),/*#__PURE__*/_jsx(PrivateComponent,_objectSpread(_objectSpread({redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:URL_USER},usersListProps),{},{permissions:[],component:FhirUserList})),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:URL_FHIR_CARE_TEAM,permissions:[],component:CareTeamList}),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:\"\".concat(URL_EDIT_CARE_TEAM,\"/:\").concat(ROUTE_PARAM_CARE_TEAM_ID),permissions:[],component:CreateEditCareTeam}),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:URL_CREATE_CARE_TEAM,permissions:[],component:CreateEditCareTeam}),/*#__PURE__*/_jsx(PrivateComponent,_objectSpread(_objectSpread({redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:\"\".concat(URL_USER_EDIT,\"/:\").concat(ROUTE_PARAM_USER_ID)},fhirCreateEditUserProps),{},{permissions:[],component:FHIRConnectedCreateEditUser})),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:\"\".concat(URL_USER_GROUP_EDIT,\"/:\").concat(ROUTE_PARAM_USER_GROUP_ID),permissions:[],component:CreateEditUserGroup}),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:URL_USER_GROUP_CREATE,permissions:[],component:CreateEditUserGroup}),/*#__PURE__*/_jsx(PrivateComponent,_objectSpread(_objectSpread({redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:URL_USER_CREATE},fhirCreateEditUserProps),{},{permissions:[],component:FHIRConnectedCreateEditUser})),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:\"\".concat(URL_USER_CREDENTIALS,\"/:\").concat(ROUTE_PARAM_USER_ID,\"/:\").concat(ROUTE_PARAM_USERNAME),permissions:[],component:UserCredentials}),/*#__PURE__*/_jsx(PrivateComponent,_objectSpread(_objectSpread({redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:\"\".concat(URL_USER,\"/:id\")},usersListProps),{},{permissions:[],component:FhirUserList})),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:URL_TEAMS,permissions:[],component:FhirTeamsList}),/*#__PURE__*/_jsx(PrivateComponent,_objectSpread(_objectSpread({redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:URL_TEAM_ASSIGNMENT},teamAffiliationProps),{},{permissions:[],component:FhirTeamAssignment})),/*#__PURE__*/_jsx(PrivateComponent,_objectSpread(_objectSpread({redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:URL_TEAMS_ADD},teamManagementProps),{},{permissions:[],component:FhirTeamsAddEdit})),/*#__PURE__*/_jsx(PrivateComponent,_objectSpread(_objectSpread({redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:\"\".concat(URL_TEAMS_EDIT,\"/:id\")},teamManagementProps),{},{permissions:[],component:FhirTeamsAddEdit})),/*#__PURE__*/_jsx(PrivateComponent,_objectSpread(_objectSpread({redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:\"\".concat(URL_TEAMS,\"/:id\")},teamAffiliationProps),{},{permissions:[],component:FhirTeamsList})),/*#__PURE__*/_jsx(PrivateComponent,_objectSpread(_objectSpread({redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:URL_LOCATION_UNIT},locationUnitProps),{},{permissions:[],component:FHIRLocationUnitList})),/*#__PURE__*/_jsx(PrivateComponent,_objectSpread(_objectSpread({redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:URL_LOCATION_UNIT_ADD},newLocationUnitProps),{},{permissions:[],component:FHIRNewEditLocationUnit})),/*#__PURE__*/_jsx(PrivateComponent,_objectSpread(_objectSpread({redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:URL_LOCATION_UNIT_EDIT},editLocationProps),{},{permissions:[],component:FHIRNewEditLocationUnit})),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,path:\"\".concat(ADD_EDIT_HEALTHCARE_SERVICE_URL,\"/:id\"),permissions:[],component:HealthCareAddEdit}),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,path:ADD_EDIT_HEALTHCARE_SERVICE_URL,permissions:[],component:HealthCareAddEdit}),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,path:\"\".concat(LIST_HEALTHCARE_URL,\"/:id\"),permissions:[],component:HealthCareList}),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,path:LIST_HEALTHCARE_URL,permissions:[],component:HealthCareList}),/*#__PURE__*/_jsx(PrivateComponent,_objectSpread(_objectSpread({redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,path:\"\".concat(ADD_EDIT_COMMODITY_URL,\"/:id\"),exact:true},commmodityProps),{},{permissions:[],component:CommodityAddEdit})),/*#__PURE__*/_jsx(PrivateComponent,_objectSpread(_objectSpread({redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,path:ADD_EDIT_COMMODITY_URL},commmodityProps),{},{exact:true,permissions:[],component:CommodityAddEdit})),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,path:\"\".concat(LIST_GROUP_URL,\"/:id\"),permissions:[],component:GroupList}),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,path:LIST_GROUP_URL,permissions:[],component:GroupList}),/*#__PURE__*/_jsx(PrivateComponent,_objectSpread(_objectSpread({redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,path:\"\".concat(LIST_COMMODITY_URL,\"/:id\")},commmodityProps),{},{permissions:[],component:CommodityList})),/*#__PURE__*/_jsx(PrivateComponent,_objectSpread(_objectSpread({redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,path:LIST_COMMODITY_URL},commmodityProps),{},{permissions:[],component:CommodityList})),/*#__PURE__*/_jsx(PrivateComponent,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:\"\".concat(URL_USER_GROUPS,\"/:\").concat(ROUTE_PARAM_USER_GROUP_ID),component:UserGroupsList,permissions:[]}),/*#__PURE__*/_jsx(Route,{exact:true,path:APP_LOGIN_URL,render:function render(){window.location.href=OpenSRP;return/*#__PURE__*/_jsx(_Fragment,{});}}),/*#__PURE__*/_jsx(PublicComponent,{exact:true,path:APP_CALLBACK_PATH,component:CallbackComponent}),/*#__PURE__*/_jsx(ConnectedPrivateRoute,{redirectPath:APP_CALLBACK_URL,disableLoginProtection:DISABLE_LOGIN_PROTECTION,exact:true,path:URL_LOGOUT// tslint:disable-next-line: jsx-no-lambda\n,component:CustomLogout}),/*#__PURE__*/_jsx(Route,{exact:true,component:Resource404})]});};export{FHIRApps};","map":null,"metadata":{},"sourceType":"module"}