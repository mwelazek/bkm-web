{"ast":null,"code":"// This file holds code to hande the FHIRPath Math functions.\nvar deepEqual = require('./deep-equal');\n\nvar engine = {}; // b is assumed to have one element and it tests whether b[0] is in a\n\nfunction containsImpl(a, b) {\n  if (b.length == 0) {\n    return true;\n  }\n\n  for (var i = 0; i < a.length; i++) {\n    if (deepEqual(a[i], b[0])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nengine.contains = function (a, b) {\n  if (b.length == 0) {\n    return [];\n  }\n\n  if (a.length == 0) {\n    return false;\n  }\n\n  if (b.length > 1) {\n    throw new Error(\"Expected singleton on right side of contains, got \" + JSON.stringify(b));\n  }\n\n  return containsImpl(a, b);\n};\n\nengine.in = function (a, b) {\n  if (a.length == 0) {\n    return [];\n  }\n\n  if (b.length == 0) {\n    return false;\n  }\n\n  if (a.length > 1) {\n    throw new Error(\"Expected singleton on right side of in, got \" + JSON.stringify(b));\n  }\n\n  return containsImpl(b, a);\n};\n\nmodule.exports = engine;","map":null,"metadata":{},"sourceType":"script"}