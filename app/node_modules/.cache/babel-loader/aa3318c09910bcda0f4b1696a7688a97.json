{"ast":null,"code":"import * as React from 'react';\nimport classNames from 'classnames';\nimport moment from 'moment';\nimport { LanguageLocales } from '@helsenorge/core-utils/constants/languages';\nimport { CALENDAR_LABEL, CLOSE_DATEPICKER, FOCUS_STARTDATE, CLEAR_DATE, CLEAR_DATES, PICK_MONTH, PICK_MONTH_EN, PICK_YEAR, PICK_YEAR_EN, JUMP_TO_PREVMONTH, JUMP_TO_NEXTMONTH, KEYBOARD_SHORTCUTS, SHOW_KEYBOARD_SHORTCUTS_PANEL, HIDE_KEYBOARD_SHORTCUTS_PANEL, ENTER_KEY, LEFT_ARROW_RIGHT_ARROW, UP_ARROW_DOWN_ARROW, PAGE_UP_PAGE_DOWN, HOME_END, ESCAPE, QUESTION_MARK, OPEN_THIS_PANEL, SELECT_FOCUSED_DATE, MOVE_FOCUS_BY_ONE_DAY, MOVE_FOCUS_BY_ONE_WEEK, MOVE_FOCUS_BY_ONE_MONTH, MOVE_FOCUS_START_END_WEEK, RETURN_FOCUS_TO_INPUT, ERROR_INVALID_DATE, ERROR_INVALID_DATE_RANGE, ERROR_REQUIRED_DATE, ERROR_REQUIRED_DATE_RANGE, ERROR_INVALID_MIN_NIGHTS, ERROR_DATE_BEFORE_MIN, ERROR_DATE_AFTER_MAX } from '../../../constants/datetime';\nimport HeaderNavIcon from './custom-icons/header-nav-icon';\nimport InputIcon from './custom-icons/input-icon';\nimport toolkitstyles from './styles.module.scss';\nexport var DISPLAY_FORMAT = 'L';\nexport var ISO_FORMAT = 'YYYY-MM-DD';\nexport var ISO_MONTH_FORMAT = 'YYYY-MM';\nexport var START_DATE_ID = 'startDate';\nexport var END_DATE_ID = 'endDate';\nexport var HORIZONTAL_ORIENTATION = 'horizontal';\nexport var VERTICAL_ORIENTATION = 'vertical';\nexport var VERTICAL_SCROLLABLE = 'verticalScrollable';\nexport var NAV_POSITION_BOTTOM = 'navPositionBottom';\nexport var NAV_POSITION_TOP = 'navPositionTop';\nexport var ICON_BEFORE_POSITION = 'before';\nexport var ICON_AFTER_POSITION = 'after';\nexport var INFO_POSITION_TOP = 'top';\nexport var INFO_POSITION_BOTTOM = 'bottom';\nexport var INFO_POSITION_BEFORE = 'before';\nexport var INFO_POSITION_AFTER = 'after';\nexport var ANCHOR_LEFT = 'left';\nexport var ANCHOR_RIGHT = 'right';\nexport var OPEN_DOWN = 'down';\nexport var OPEN_UP = 'up';\nexport var DAY_SIZE = 39;\nexport var BLOCKED_MODIFIER = 'blocked';\nexport var WEEKDAYS = [0, 1, 2, 3, 4, 5, 6];\nexport var FANG_WIDTH_PX = 20;\nexport var FANG_HEIGHT_PX = 10;\nexport var DEFAULT_VERTICAL_SPACING = 22;\nexport var MODIFIER_KEY_NAMES = new Set(['Shift', 'Control', 'Alt', 'Meta']);\n\nvar chooseAvailableStartDate = function chooseAvailableStartDate(_ref) {\n  var date = _ref.date;\n  return \"Velg \".concat(date, \" som startdato. Den er tilgjengelig.\");\n};\n\nvar chooseAvailableEndDate = function chooseAvailableEndDate(_ref2) {\n  var date = _ref2.date;\n  return \"Velg \".concat(date, \" som sluttdato. Den er tilgjengelig.\");\n};\n\nvar chooseAvailableDate = function chooseAvailableDate(_ref3) {\n  var date = _ref3.date;\n  return date;\n};\n\nvar dateIsUnavailable = function dateIsUnavailable(_ref4) {\n  var date = _ref4.date;\n  return \"Ikke tilgjengelig. \".concat(date);\n};\n\nvar dateIsSelected = function dateIsSelected(_ref5) {\n  var date = _ref5.date;\n  return \"Valgt. \".concat(date);\n};\n\nvar dateIsSelectedAsStartDate = function dateIsSelectedAsStartDate(_ref6) {\n  var date = _ref6.date;\n  return \"Valgt som startdato. \".concat(date);\n};\n\nvar dateIsSelectedAsEndDate = function dateIsSelectedAsEndDate(_ref7) {\n  var date = _ref7.date;\n  return \"Valgt som sluttdato. \".concat(date);\n};\n\nexport var Phrases = {\n  clearDate: CLEAR_DATE,\n  chooseAvailableDate: chooseAvailableDate,\n  clearDates: CLEAR_DATES,\n  calendarLabel: CALENDAR_LABEL,\n  closeDatePicker: CLOSE_DATEPICKER,\n  focusStartDate: FOCUS_STARTDATE,\n  jumpToPrevMonth: JUMP_TO_PREVMONTH,\n  jumpToNextMonth: JUMP_TO_NEXTMONTH,\n  keyboardShortcuts: KEYBOARD_SHORTCUTS,\n  showKeyboardShortcutsPanel: SHOW_KEYBOARD_SHORTCUTS_PANEL,\n  hideKeyboardShortcutsPanel: HIDE_KEYBOARD_SHORTCUTS_PANEL,\n  enterKey: ENTER_KEY,\n  leftArrowRightArrow: LEFT_ARROW_RIGHT_ARROW,\n  upArrowDownArrow: UP_ARROW_DOWN_ARROW,\n  pageUpPageDown: PAGE_UP_PAGE_DOWN,\n  homeEnd: HOME_END,\n  escape: ESCAPE,\n  questionMark: QUESTION_MARK,\n  openThisPanel: OPEN_THIS_PANEL,\n  selectFocusedDate: SELECT_FOCUSED_DATE,\n  moveFocusByOneDay: MOVE_FOCUS_BY_ONE_DAY,\n  moveFocusByOneWeek: MOVE_FOCUS_BY_ONE_WEEK,\n  moveFocusByOneMonth: MOVE_FOCUS_BY_ONE_MONTH,\n  moveFocustoStartAndEndOfWeek: MOVE_FOCUS_START_END_WEEK,\n  returnFocusToInput: RETURN_FOCUS_TO_INPUT,\n  chooseAvailableStartDate: chooseAvailableStartDate,\n  chooseAvailableEndDate: chooseAvailableEndDate,\n  dateIsUnavailable: dateIsUnavailable,\n  dateIsSelected: dateIsSelected,\n  dateIsSelectedAsStartDate: dateIsSelectedAsStartDate,\n  dateIsSelectedAsEndDate: dateIsSelectedAsEndDate\n};\nexport var ErrorPhrases = {\n  errorInvalidDate: ERROR_INVALID_DATE,\n  errorInvalidDateRange: ERROR_INVALID_DATE_RANGE,\n  errorRequiredDate: ERROR_REQUIRED_DATE,\n  errorRequiredDateRange: ERROR_REQUIRED_DATE_RANGE,\n  errorInvalidMinimumNights: ERROR_INVALID_MIN_NIGHTS,\n  errorBeforeMinDate: ERROR_DATE_BEFORE_MIN,\n  errorAfterMaxDate: ERROR_DATE_AFTER_MAX\n};\n\nvar isMomentLocaleConfig = function isMomentLocaleConfig(locale) {\n  var _a, _b;\n\n  return !!((_b = (_a = locale) === null || _a === void 0 ? void 0 : _a._config) === null || _b === void 0 ? void 0 : _b.abbr);\n};\n\nexport var renderYearsOptions = function renderYearsOptions(min, max) {\n  var options = [];\n\n  for (var i = min; i <= max; i++) {\n    options.push(React.createElement(\"option\", {\n      value: i\n    }, i));\n  }\n\n  return options;\n};\nexport var renderMonthsPicker = function renderMonthsPicker(currentDate, onMonthSelect, locale, minimumDate, maximumDate, onChangeVisibleMonthHandler) {\n  var localeString = isMomentLocaleConfig(locale) ? locale._config.abbr : LanguageLocales.NORWEGIAN;\n\n  if (minimumDate && maximumDate && moment(minimumDate).isSame(maximumDate, 'month')) {\n    return React.createElement(\"span\", {\n      className: toolkitstyles['datepicker__month-view']\n    }, locale.months(moment(currentDate, 'M')));\n  }\n\n  var options = [];\n\n  for (var i = 0; i <= 11; i++) {\n    options.push(React.createElement(\"option\", {\n      key: i,\n      value: i\n    }, locale.months(moment(i + 1, 'M'))));\n  }\n\n  return React.createElement(\"select\", {\n    className: toolkitstyles['datepicker__month-selector'],\n    value: currentDate.month(),\n    onChange: function onChange(e) {\n      onMonthSelect(currentDate, e.target.value);\n      onChangeVisibleMonthHandler(moment(currentDate).set('month', parseInt(e.target.value)));\n    },\n    onKeyDown: function onKeyDown(e) {\n      e.stopPropagation();\n    },\n    \"aria-label\": localeString === LanguageLocales.ENGLISH.toLowerCase() ? PICK_MONTH_EN : PICK_MONTH\n  }, options);\n};\nexport var renderYearsPicker = function renderYearsPicker(currentDate, onYearSelect, locale, minimumDate, maximumDate, onChangeVisibleMonthHandler) {\n  var localeString = isMomentLocaleConfig(locale) ? locale._config.abbr : LanguageLocales.NORWEGIAN;\n  var minYear = minimumDate ? moment(minimumDate).year() : moment().year() - 100;\n  var maxYear = maximumDate ? moment(maximumDate).year() : moment().year() + 100;\n\n  if (maxYear - minYear <= 0) {\n    return React.createElement(\"span\", {\n      className: toolkitstyles['datepicker__year-view']\n    }, currentDate.year());\n  } else {\n    var yearsOptions = renderYearsOptions(minYear, maxYear);\n    return React.createElement(\"select\", {\n      className: toolkitstyles['datepicker__year-selector'],\n      value: currentDate.year(),\n      onChange: function onChange(e) {\n        onYearSelect(currentDate, e.target.value);\n        onChangeVisibleMonthHandler(moment(currentDate).set('year', parseInt(e.target.value)));\n      },\n      onKeyDown: function onKeyDown(e) {\n        e.stopPropagation();\n      },\n      \"aria-label\": localeString === LanguageLocales.ENGLISH.toLowerCase() ? PICK_YEAR_EN : PICK_YEAR\n    }, yearsOptions);\n  }\n};\nexport var renderCalendarIcon = function renderCalendarIcon(onClick, className) {\n  return React.createElement(InputIcon, {\n    className: className,\n    onClick: onClick\n  });\n};\nexport var renderChevronIcon = function renderChevronIcon(direction, className, isDisabled) {\n  return React.createElement(HeaderNavIcon, {\n    className: className,\n    direction: direction,\n    isDisabled: isDisabled\n  });\n};\nexport var renderMonthHeaderSimplified = function renderMonthHeaderSimplified(_ref8, locale) {\n  var month = _ref8.month;\n  return \"\".concat(locale.months(moment(month)), \" \").concat(moment(month).year());\n};\nexport var renderMonthHeader = function renderMonthHeader(_ref9, locale, minimumDate, maximumDate, onChangeVisibleMonthHandler) {\n  var month = _ref9.month,\n      onMonthSelect = _ref9.onMonthSelect,\n      onYearSelect = _ref9.onYearSelect;\n  return React.createElement(\"div\", {\n    className: toolkitstyles['datepicker__month-year-selector']\n  }, renderMonthsPicker(month, onMonthSelect, locale, minimumDate, maximumDate, onChangeVisibleMonthHandler), renderYearsPicker(month, onYearSelect, locale, minimumDate, maximumDate, onChangeVisibleMonthHandler));\n};\nexport var notifyValidated = function notifyValidated(id, value, isValid, errorString, onValidated, onError) {\n  onValidated && onValidated(isValid);\n  onError && !isValid && onError(value, errorString, id);\n};\nexport var getCSSClasses = function getCSSClasses(baseClass, errorClass, hasValidation, hasErrors, className) {\n  return classNames(baseClass, {\n    mol_validation: hasValidation,\n    'mol_validation--active': hasValidation && hasErrors\n  }, hasErrors ? errorClass : '', className ? className : '');\n};\nexport var getDateNOString = function getDateNOString(d) {\n  return d ? moment(d).format('DD.MM.YYYY') : '';\n};\nexport var getDefaultVisibleMonth = function getDefaultVisibleMonth(props) {\n  return props.singleDateValue || props.startDateValue || props.endDateValue || props.initialDate || props.minimumDate || moment();\n};","map":null,"metadata":{},"sourceType":"module"}