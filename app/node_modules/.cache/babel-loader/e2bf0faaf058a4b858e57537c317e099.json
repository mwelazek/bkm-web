{"ast":null,"code":"import moment from 'moment';\nimport { capitalize } from './string-utils';\n/**\n * Initialiserer Moment med norsk locale og riktig LongDate formats\n */\n\nexport const initialize = () => {\n  moment.locale('nb');\n  const language = {\n    monthsShort: 'jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.'.split('_'),\n    longDateFormat: {\n      LT: 'HH:mm',\n      LTS: 'HH:mm:ss',\n      L: 'DD.MM.YYYY',\n      LL: 'D. MMMM YYYY',\n      LLL: 'D. MMMM YYYY, [kl.] HH:mm',\n      LLLL: 'dddd D. MMMM YYYY, [kl.] HH:mm'\n    }\n  };\n  moment.updateLocale('nb', language);\n};\n/**\n * Returnerer JS Dato basert på en MomentInput\n * @param a - MomentInput som skal konverteres\n */\n\nexport const toDate = a => {\n  const start = moment(a);\n  return start.toDate();\n};\n/**\n * Returnerer en lang dato format (Måned DD, YYYY) basert på en MomentInput\n * @param a - MomentInput som skal konverteres\n */\n\nexport const longDate = a => {\n  const start = moment(a);\n  const startOfDay = moment(a).startOf('day');\n  return start.isSame(startOfDay) ? start.format('ll') : start.format('lll');\n};\n/**\n * Returnerer en long dato format med klokken (Day DD. Måned YYYY klokken HH:mm) basert på en MomentInput\n * @param a - MomentInput som skal konverteres\n */\n\nexport const longDateNumbersClock = function (time) {\n  let separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ' ';\n  const start = moment(time);\n  return start.format(`dddd DD. MMMM YYYY${separator}[klokken] HH:mm`);\n};\n/**\n * Returnerer en medium dato format (DD. Mån YYYY HH:mm) basert på en MomentInput\n * @param a - MomentInput som skal konverteres\n */\n\nexport const mediumDate = a => {\n  const start = moment(a);\n  return start.format('DD. MMM YYYY HH:mm');\n};\n/**\n * Returnerer en medium dato format kun med tall (DD.MM.YYYY HH:mm)) basert på en MomentInput\n * @param a - MomentInput som skal konverteres\n */\n\nexport const mediumDateNumbers = a => {\n  const start = moment(a);\n  return start.format('DD.MM.YYYY HH:mm');\n};\n/**\n * Returnerer en medium dato format med kl. (DD.MM.YYYY kl. HH:mm) basert på en MomentInput\n * @param a - MomentInput som skal konverteres\n */\n\nexport const mediumDateNumbersClock = function (a) {\n  let separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ' ';\n  const start = moment(a);\n  return start.format(`DD.MM.YYYY${separator}[kl.] HH:mm`);\n};\n/**\n * Returnerer en short dato format (DD. Mån YYYY) basert på en MomentInput\n * @param a - MomentInput som skal konverteres\n */\n\nexport const shortDate = time => {\n  const start = moment(time);\n  return start.format('DD. MMM YYYY');\n};\n/**\n * Returnerer en short dato format med full måned (D. Måned YYYY) basert på en MomentInput\n * @param a - MomentInput som skal konverteres\n */\n\nexport const shortDateFullMonth = a => {\n  const start = moment(a);\n  return start.format('D. MMMM YYYY');\n};\n/**\n * Returnerer en short dato format (D. Mån YYYY) basert på en MomentInput\n * @param a - MomentInput som skal konverteres\n */\n\nexport const shortDateNb = a => {\n  const start = moment(a);\n  return start.format('D. MMM YYYY');\n};\n/**\n * Returnerer en short dato format (DD.MM.YYYY) basert på en MomentInput\n * @param a - MomentInput som skal konverteres\n */\n\nexport const shortDateNumbers = a => {\n  const start = moment(a);\n  return start.format('DD.MM.YYYY');\n};\n/**\n * Returnerer dato med riktig AM/PM og prefix\n * @param a - MomentInput som skal sjekkes\n */\n\nexport const timeOfDay = function (a) {\n  let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  let value = '';\n  const start = moment(a);\n  const startOfDay = moment(a).startOf('day');\n\n  if (!start.isSame(startOfDay)) {\n    value = prefix + start.format('LT');\n  }\n\n  return value;\n};\n/**\n * Returnerer full måned med år (Måned YYYY)\n * @param a - MomentInput som skal konverteres\n */\n\nexport const monthYear = a => {\n  const start = moment(a);\n  return capitalize(start.format('MMMM YYYY'));\n};\n/**\n * Returnerer kort måned med år (Mån YYYY)\n * @param a - MomentInput som skal konverteres\n */\n\nexport const shortMonthYear = a => {\n  const start = moment(a);\n  return capitalize(start.format('MMM YYYY').replace('.', ''));\n};\n/**\n * Returnerer range med full måned og år (Måned YYYY – Måned YYYY)\n * @param a - startdato i Moment format\n * @param b - sluttdato i Moment format\n */\n\nexport const monthRange = (a, b) => {\n  let range;\n  const start = moment(a);\n  const end = moment(b);\n\n  if (start.isSame(end, 'month')) {\n    range = capitalize(start.format('MMMM YYYY'));\n  } else {\n    range = capitalize(start.format('MMMM YYYY')) + String.fromCharCode(160) + String.fromCharCode(8211) + String.fromCharCode(160) + capitalize(end.format('MMMM YYYY'));\n  }\n\n  return range;\n};\n/**\n * Returnerer range mellom 2 klokkeslett (Måned DD, YYYY, mellom kl. H:mm AM og HH:mm PM)\n * Forutsetter at begge tidspunktene er på samme dag\n * @param a - startdato i Moment format\n * @param b - sluttdato i Moment format\n */\n\nexport const timeRangeBetween = (a, b) => {\n  let range;\n  const start = moment(a);\n  const end = moment(b);\n\n  if (start.isSame(end)) {\n    range = start.format('lll');\n  } else {\n    range = start.format('ll') + ', mellom kl. ' + start.format('LT') + ' og ' + end.format('LT');\n  }\n\n  return range;\n};\n/**\n * Returnerer range mellom 2 klokkeslett med bindestrekk (Måned DD, YYYY, H:mm AM - HH:mm PM)\n * Forutsetter at begge tidspunktene er på samme dag\n * @param a - startdato i Moment format\n * @param b - sluttdato i Moment format\n */\n\nexport const timeRange = (first, last) => {\n  let range;\n  const start = moment(first);\n  const end = moment(last);\n\n  if (start.isSame(end)) {\n    range = start.format('lll');\n  } else {\n    range = start.format('lll') + ' - ' + end.format('LT');\n  }\n\n  return range;\n};\n/**\n * Returnerer range mellom 2 klokkeslett med full dag måned og år (Day DD. Måned YYYY, kl. HH:mm AM - HH:mm PM)\n * Forutsetter at begge tidspunktene er på samme dag\n * @param a - startdato i Moment format\n * @param b - sluttdato i Moment format\n */\n\nexport const longTimeRange = (startInput, endInput) => {\n  const start = moment(startInput);\n  const end = moment(endInput);\n  let range = start.format('dddd D. MMMM YYYY, [kl.] HH:mm');\n\n  if (endInput) {\n    range = range + ' - ' + end.format('LT');\n  }\n\n  return capitalize(range);\n};\n/**\n * Returnerer true hvis datoene er på samme dag\n * @param a MomentInput som skal sammenlignes\n * @param b MomentInput som skal sammenlignes\n */\n\nexport const isSameDay = (a, b) => {\n  if (!moment.isMoment(a) || !moment.isMoment(b)) return false; // Compare least significant, most likely to change units first\n  // Moment's isSame clones moment inputs and is a tad slow\n\n  return a.date() === b.date() && a.month() === b.month() && a.year() === b.year();\n};\n/**\n * Returnerer true hvis dato a er før dato b\n * @param a MomentInput som skal sammenlignes\n * @param b MomentInput som skal sammenlignes\n */\n\nexport const isBeforeDay = (a, b) => {\n  if (!moment.isMoment(a) || !moment.isMoment(b)) return false;\n  const aYear = a.year();\n  const aMonth = a.month();\n  const bYear = b.year();\n  const bMonth = b.month();\n  const isSameYear = aYear === bYear;\n  const isSameMonth = aMonth === bMonth;\n  if (isSameYear && isSameMonth) return a.date() < b.date();\n  if (isSameYear) return aMonth < bMonth;\n  return aYear < bYear;\n};\n/**\n * Returnerer true hvis dato a er etter dato b\n * @param a MomentInput som skal sammenlignes\n * @param b MomentInput som skal sammenlignes\n */\n\nexport const isAfterDay = (a, b) => {\n  if (!moment.isMoment(a) || !moment.isMoment(b)) return false;\n  return !isBeforeDay(a, b) && !isSameDay(a, b);\n};\n/**\n * Returnerer true hvis dato a er på samme dag eller etter dato b\n * @param a MomentInput som skal sammenlignes\n * @param b MomentInput som skal sammenlignes\n */\n\nexport const isInclusivelyAfterDay = (a, b) => {\n  if (!moment.isMoment(a) || !moment.isMoment(b)) return false;\n  return !isBeforeDay(a, b);\n};\n/**\n * Returnerer true hvis input (inkludert minutter) er etter nåtid\n * @param a MomentInput som skal sammenlignes\n */\n\nexport const isAfter = a => {\n  const now = moment();\n  return moment(a).isAfter(now);\n};\n/**\n * Returnerer true hvis input er etter dagens dato\n * Forskjell med 'isAfter' er at denne tar utgangspunkt i dager\n * @param a MomentInput som skal sammenlignes\n */\n\nexport const isAfterToday = a => {\n  return moment(a).diff(new Date(), 'days') > 0;\n};\n/**\n * Sammenligner to datoer og returnerer true hvis den første datoen er etter den andre (fungerer også med tid)\n * @param a - moment dato\n * @param max - maksimum dato grense\n */\n\nexport const isAfterMaxDate = (a, b) => !!(b && a.isAfter(b));\n/**\n * Returnerer true hvis dato a er på samme dag eller før dato b\n * @param a MomentInput som skal sammenlignes\n * @param b MomentInput som skal sammenlignes\n */\n\nexport const isInclusivelyBeforeDay = (a, b) => {\n  if (!moment.isMoment(a) || !moment.isMoment(b)) return false;\n  return !isAfterDay(a, b);\n};\n/**\n * Returnerer true hvis input  (inkludert minutter) er før nåtid\n * @param a MomentInput som skal sammenlignes\n */\n\nexport const isBefore = a => {\n  const now = moment();\n  return moment(a).isBefore(now);\n};\n/**\n * Returnerer true hvis input er før dagens dato\n * Forskjell med 'isBefore' er at denne tar utgangspunkt i dager\n * @param a MomentInput som skal sammenlignes\n */\n\nexport const isBeforeToday = a => {\n  return moment(a).diff(moment(), 'days') < 0;\n};\n/**\n * Sammenligner to datoer og returnerer true hvis den første datoen er før den andre (fungerer også med tid)\n * @param a - moment dato\n * @param min - minimum dato grense\n */\n\nexport const isBeforeMinDate = (a, b) => !!(b && a.isBefore(b));\n/**\n * Returnerer true hvis input er dagens dato\n * @param a MomentInput som skal sammenlignes\n */\n\nexport const isToday = a => {\n  return moment(a).isSame(moment(), 'day');\n};\n/**\n * Returnerer true hvis input er dagens dato og tid er tidligere enn nåtid\n * @param a MomentInput som skal sammenlignes\n */\n\nexport const isEarlierToday = a => {\n  return isToday(a) && isBefore(a);\n};\n/**\n * Returnerer antall uker som finnes i en måned\n * @param a - Moment obj startdato (first week)\n * @param b - Moment obj sluttdato (last week)\n */\n\nexport const numberOfWeeksInMonth = (a, b) => {\n  const firstWeek = a.week();\n  const lastWeek = b.week();\n\n  if (firstWeek >= 52) {\n    return lastWeek;\n  } else if (lastWeek < firstWeek) {\n    return 53 - firstWeek;\n  }\n\n  return lastWeek - firstWeek;\n};\n/**\n * Returnerer true hvis input er lik 0001-01-01T00:00:00\n * @param a MomentInput som skal sammenlignes\n */\n\nexport const isDotNetMinDate = a => {\n  const input = moment(a); // Setup a minDate to mimic .Net Date.MinDate constant.\n\n  const minDate = moment('0001-01-01T00:00:00');\n  return input.isSame(minDate);\n};\n/**\n * Returnerer dato i ISO format med Timezone offset\n * @param a MomentInput som skal sammenlignes\n */\n\nexport const toLocalISOStringUsingDateTimezoneOffset = a => {\n  const isoDate = moment(a).add('minutes', moment(a).utcOffset()).toISOString();\n  return isoDate.substring(0, isoDate.lastIndexOf('.'));\n};","map":null,"metadata":{},"sourceType":"module"}